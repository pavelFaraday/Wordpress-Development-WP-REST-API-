(()=>{"use strict";const t=window.wp.components,e=window.ReactJSXRuntime;!function(){let t=!1;wp.data.subscribe((function(){const e=wp.data.select("core/block-editor").getBlocks().filter((function(t){return"ourplugin/are-you-paying-attention"==t.name&&null==t.attributes.correctAnswer}));e.length&&0==t&&(t=!0,wp.data.dispatch("core/editor").lockPostSaving("noanswer")),!e.length&&t&&(t=!1,wp.data.dispatch("core/editor").unlockPostSaving("noanswer"))}))}(),wp.blocks.registerBlockType("ourplugin/are-you-paying-attention",{title:"Are You Paying Attention?",icon:"smiley",category:"common",attributes:{question:{type:"string"},answers:{type:"array",default:[""]},correctAnswer:{type:"number",default:void 0}},edit:function(n){return(0,e.jsxs)("div",{className:"paying-attention-edit-block",children:[(0,e.jsx)(t.TextControl,{label:"Question:",value:n.attributes.question,onChange:function(t){n.setAttributes({question:t})},style:{fontSize:"20px"}}),(0,e.jsx)("p",{style:{fontSize:"13px",margin:"20px 0 8px 0"},children:"Answers:"}),n.attributes.answers.map((function(s,r){return(0,e.jsxs)(t.Flex,{children:[(0,e.jsx)(t.FlexBlock,{children:(0,e.jsx)(t.TextControl,{value:s,onChange:t=>{const e=n.attributes.answers.concat([]);e[r]=t,n.setAttributes({answers:e})}})}),(0,e.jsx)(t.FlexItem,{children:(0,e.jsx)(t.Button,{onClick:()=>function(t){n.setAttributes({correctAnswer:t})}(r),children:(0,e.jsx)(t.Icon,{className:"mark-as-correct",icon:n.attributes.correctAnswer==r?"star-filled":"star-empty"})})}),(0,e.jsx)(t.FlexItem,{children:(0,e.jsx)(t.Button,{isLink:!0,className:"attention-delete",onClick:()=>function(t){const e=n.attributes.answers.filter((function(e,n){return n!=t}));n.setAttributes({answers:e}),t==n.attributes.correctAnswer&&n.setAttributes({correctAnswer:void 0})}(r),children:"Delete"})})]})})),(0,e.jsx)(t.Button,{isPrimary:!0,onClick:()=>{n.setAttributes({answers:n.attributes.answers.concat([""])})},children:"Add another answer"})]})},save:function(t){return null}})})();